definitions:
  config:
    /hippo:configuration/hippo:domains/frontendconfig:
      jcr:primaryType: hipposys:domain
      /frontend-hierarchy-nodes:
        jcr:primaryType: hipposys:domainrule
        /frontend-and-descendants:
          jcr:primaryType: hipposys:facetrule
          hipposys:equals: true
          hipposys:facet: jcr:path
          hipposys:filter: false
          hipposys:type: Reference
          hipposys:value: /hippo:configuration/hippo:frontend
        /exclude-plugin:
          jcr:primaryType: hipposys:facetrule
          hipposys:equals: false
          hipposys:facet: nodetype
          hipposys:filter: false
          hipposys:type: Name
          hipposys:value: frontend:plugin
      /frontend-plugins:
        jcr:primaryType: hipposys:domainrule
        /frontend-and-descendants:
          jcr:primaryType: hipposys:facetrule
          hipposys:equals: true
          hipposys:facet: jcr:path
          hipposys:filter: false
          hipposys:type: Reference
          hipposys:value: /hippo:configuration/hippo:frontend
        /type-frontend-plugin:
          jcr:primaryType: hipposys:facetrule
          hipposys:equals: true
          hipposys:facet: jcr:primaryType
          hipposys:filter: false
          hipposys:type: Name
          hipposys:value: frontend:plugin
        /exclude-admin:
          jcr:primaryType: hipposys:facetrule
          hipposys:equals: false
          hipposys:facet: plugin.class
          hipposys:filter: false
          hipposys:type: String
          hipposys:value: org.hippoecm.frontend.plugins.cms.admin.AdminPerspective
        /exclude-publishall:
          jcr:primaryType: hipposys:facetrule
          hipposys:equals: false
          hipposys:facet: plugin.class
          hipposys:filter: false
          hipposys:type: String
          hipposys:value: org.hippoecm.frontend.plugins.reviewedactions.PublishAllShortcutPlugin
        /exclude-configuration-in-cms-tree:
          jcr:primaryType: hipposys:facetrule
          hipposys:equals: false
          hipposys:facet: cluster.name
          hipposys:filter: true
          hipposys:type: String
          hipposys:value: cms-tree-views/configuration
      # read access to all user folders needed because the modify-self domain is not path based
      /hippo-namespaces:
        jcr:primaryType: hipposys:domainrule
        /hippo-namespaces-and-descendants:
          jcr:primaryType: hipposys:facetrule
          hipposys:equals: true
          hipposys:facet: jcr:path
          hipposys:filter: false
          hipposys:type: Reference
          hipposys:value: /hippo:namespaces
      /hippo-queries:
        jcr:primaryType: hipposys:domainrule
        /queries-and-descendants:
          jcr:primaryType: hipposys:facetrule
          hipposys:equals: true
          hipposys:facet: jcr:path
          hipposys:filter: false
          hipposys:type: Reference
          hipposys:value: /hippo:configuration/hippo:queries
      # TODO read access required by the *CMS* for any user (looking up things like password policy properties)
      /hippo-security-node:
        jcr:primaryType: hipposys:domainrule
        /security-node:
          jcr:primaryType: hipposys:facetrule
          hipposys:equals: true
          hipposys:facet: jcr:uuid
          hipposys:filter: false
          hipposys:type: Reference
          hipposys:value: /hippo:configuration/hippo:security
      /hippo-workflows:
        jcr:primaryType: hipposys:domainrule
        /workflow-and-descendants:
          jcr:primaryType: hipposys:facetrule
          hipposys:equals: true
          hipposys:facet: jcr:path
          hipposys:filter: false
          hipposys:type: Reference
          hipposys:value: /hippo:configuration/hippo:workflows
      /users-folders:
        jcr:primaryType: hipposys:domainrule
        /users-folder:
          jcr:primaryType: hipposys:facetrule
          hipposys:equals: true
          hipposys:facet: jcr:path
          hipposys:filter: false
          hipposys:type: Reference
          hipposys:value: /hippo:configuration/hippo:users
        /exclude-users:
          jcr:primaryType: hipposys:facetrule
          hipposys:equals: false
          hipposys:facet: nodetype
          hipposys:filter: false
          hipposys:type: Name
          hipposys:value: hipposys:user
      /readonly:
        jcr:primaryType: hipposys:authrole
        hipposys:userrole: xm-frontendconfig-reader
        hipposys:role: readonly