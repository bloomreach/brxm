// Copyright 2016 Hippo B.V. (http://www.onehippo.com)
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//  http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

.angular-ui-tree {
  user-select: none;
}

.angular-ui-tree-nodes {
  display: block;
  list-style: none;
  margin: 0;
  padding: 0;

  .angular-ui-tree-nodes {
    padding-left: 16px;
  }
}

.angular-ui-tree-node,
.angular-ui-tree-handle {
  &:active,
  &:focus {
    outline: 0;
  }
}

.angular-ui-tree > ol > .angular-ui-tree-hidden:first-child + li,
.angular-ui-tree > ol > li:first-child {
  margin-top: 0;
}

.angular-ui-tree-drag {
  border-radius: $tree-border-radius;
  box-sizing: border-box;
  cursor: grabbing;
  filter: alpha(opacity=90);
  opacity: .9;
  pointer-events: none;
  position: absolute;
  z-index: 999;
  zoom: 1;
}

.angular-ui-tree-handle {
  .drag-enabled & {
    cursor: move;

    .ie11 & {
      cursor: grab;
    }
  }

  .hippo-tree-is-dragging & {
    cursor: move;

    .ie11 & {
      cursor: grabbing;
    }
  }
}

.hippo-tree-is-dragging {
  cursor: move;

  .ie11 & {
    cursor: grabbing;
  }
}

.has-styling {
  .spacer {
    display: inline-block;
    vertical-align: top;
    width: 24px;
  }

  .angular-ui-tree-node {
    cursor: pointer;
    display: block;
    line-height: 20px;
    margin-top: 3px;
    min-height: 20px;
    padding: 0;

    &.active > div:first-child {
      background: $tree-active-bg;
      border-color: $tree-active-border-color;
      color: $tree-active-color;
      md-icon {
        color: $tree-active-color;
      }
    }
  }

  .angular-ui-tree-handle {
    background-clip: padding-box;
    background-color: $tree-bg;
    box-sizing: border-box;
    font-size: $tree-font-size;
    padding: 1px 2px;

    .drag-enabled & {
      border: 1px solid $tree-border-color;
      border-radius: $tree-border-radius;
    }

    &:hover {
      background: $tree-hover-bg;
      text-decoration: none;
    }
  }

  .angular-ui-tree-placeholder {
    border-radius: $tree-border-radius;
    margin-top: 4px;
  }

  .angular-ui-tree-title {
    display: inline-block;
    vertical-align: middle;
  }

  .hippo-tree-item-toggle {
    border: 0;
    display: inline-block;
    padding: 0;

    md-icon {
      transition-duration: .2s;
      transition-property: transform;

      // TODO: temporary workaround for missing right-arrow
      &.rotate-left {
        transform: rotate(-90deg);
      }
    }
  }

  .angular-ui-tree-title-wrapper md-icon {
    font-size: 20px;
    line-height: 24px;
  }
}


.angular-ui-tree-placeholder {
  background: $tree-dd-bg;
  box-shadow: 0 0 0 1px $tree-dd-bg;
  padding: 0;
}

.expansion-panel,
.angular-ui-tree-handle {
  .angular-ui-tree-placeholder {
    margin: 8px;
  }

  .md-headline {
    font-size: 20px;
  }

  md-card-title.active {
    background-color: $grey-200;
  }

  .empty-tree-item {
    margin-left: 52px;
  }
}

.no-padding {
  padding: 0;
}
