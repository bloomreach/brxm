<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE document PUBLIC
  "-//Apache Software Foundation//DTD XDOC 1.0//EN"
  "http://maven.apache.org/dtd/xdoc_1_0.dtd">
<!--
  Copyright 2008 Hippo

  Licensed under the Apache License, Version 2.0 (the  "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS"
  BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<document>
    <properties>
        <title>help startup Servlet Container</title>
    </properties>
    <body>
     <section name="Help startup in Servlet Container">
      <span class='shortdesc'>Help for when you have problems starting up Hippo in a servlet container.</span>

      <subsection name="java.lang.IllegalStateException:...infinite loop">

      <p>
         You get the following errormessage:
      </p>

<code>
java.lang.IllegalStateException: Request processing executed 100 steps,
which means it is probably in an infinite loop.
       org.apache.wicket.RequestCycle.steps(RequestCycle.java:1348)
       org.apache.wicket.RequestCycle.request(RequestCycle.java:493)
       org.apache.wicket.protocol.http.WicketFilter.doGet(WicketFilter.java:355)

 org.apache.wicket.protocol.http.WicketFilter.doFilter(WicketFilter.java:200)
 org.hippoecm.frontend.plugins.login.ConcurrentLoginFilter.doFilter(ConcurrentLoginFilter.java:54)
</code>

<p>After you download geronimo a simple restart of Tomcat is apparently not enough.
The problem is known to be fixed by killing all running java processes and restarting
Tomcat.
</p>
</subsection>

      <subsection name="Failed to Connect. Firefox can't establish a connection to the server at localhost:8080.">

       <ul>
        <li>
         <p>
           You may have configured your servlet container to run on a non-default port.
     </p>
         <p>The examples in the documentation assume default values. You must adapt the examples to
            your own customized port number. 
        </p>
    </li>
        <li><p>You may be deploying the application on a machine other than your local
               machine.</p>
             <p>The examples in the documentation assume that you deploy the application on the same machine
                as you are working. If you are deploying the application on a remote machine, you  
                have to use the name of that remote machine everywhere that the documenation refers to &quot;localhost&quot;.
             </p>
    </li>
       </ul>

      </subsection>
      <subsection name='The browser window of the CMS is an empty page'>

        <p>You maybe trying to run more than one CMS without configuring the <a href='http://en.wikipedia.org/wiki/Java_remote_method_invocation'>RMI</a> ports appriopiately.
           In this case the second one that the servlet container or application server tries to start will crash.
        </p>

        <p>The CMS opens a RMI connection and normally uses the default port 1099 for that. If you want to
           run more than one CMS at the same time, you must configure one of them to use another port for
           the RMI connection.   
        </p>
      </subsection>
   
      <subsection name='Configuration file syntax error'>
    
       <p>                 
         Some users reported the following error on startup:
       </p>
         <sample>
           Configuration file syntax error.: Premature end of file.
     </sample>
        <p>
           This can be resolved by adding the following two jars to the Tomcat 
           endorsed lib folder in common:
        </p>
         <ol>
          <li><a href="http://repo1.maven.org/maven/xalan/jars/xalan-2.7.1.jar">xalan</a></li>
          <li><a href="http://repo1.maven.org/maven/xalan/jars/serializer-2.7.1.jar">xalan serializer</a></li>
         </ol>
      </subsection>
     </section>
    </body>
</document>
