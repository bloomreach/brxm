# Bloomreach Navigation Application

## Introduction

This project contains code related to the navigation application and navigation communication library.
The navapp is the container application of micro-frontends in BRX. Through configuration it allows the loading of isolated apps inside iframes hosted on any domain.
These client apps can then use the communication library to communictate with the navapp API to execute tasks.

- In depth documentation on the navapp can be found [here](./tech-designs/NAVAPP_DESCRIPTION.md).
- In depth documentation on the navapp-communication library can be found [here](./tech-designs/NAVAPP_COMMUNICATION_DESCRIPTION.md).
- The API docs are generated and published [here](https://javadoc.onehippo.org/14.0-preview/navapp/).

## Structure

This is an _Angular workspace_ generated by the Angular CLI. The projects folder contains the `navapp application` the `navapp communication library` and an example app to be loaded inside an iframe for quick testing purposes.
The root contains the configuration files related to the `navapp`.

## Development

For a development setup:
1. Run `npm ci`
2. Optionally run `npm run build navapp-communication -- --watch`
3. Run `npm run start`
2. Run `npm run start:example-app`

Navigate to `http://localhost:4200/`. The app will automatically reload if you change any of the source files.

## Build
First install the dependencies with `npm ci` then:
- For building the navapp run `npm run build`
- For building the communication library run `npm run build -- navapp-communication`

# Generated README by Angular CLI

This project was generated with [Angular CLI](https://github.com/angular/angular-cli) version 7.3.8.

## Development server

Run `npm run start` for a dev server and `npm run start:example-app`. Navigate to `http://localhost:4200/`. The app will automatically reload if you change any of the source files.

If you wish to run the communication library in the dev mode to watch changes run `npm run build navapp-communication -- --watch` before `npm run start`.

## Code scaffolding

Run `ng generate component component-name` to generate a new component. You can also use `ng generate directive|pipe|service|class|guard|interface|enum|module`.

## Build

Run `ng build` to build the project. The build artifacts will be stored in the `dist/` directory. Use the `--prod` flag for a production build.

## Running unit tests

Run `ng test` to execute the unit tests via [Karma](https://karma-runner.github.io).

## Running end-to-end tests

Run `ng e2e` to execute the end-to-end tests via [Protractor](http://www.protractortest.org/).

## Further help

To get more help on the Angular CLI use `ng help` or go check out the [Angular CLI README](https://github.com/angular/angular-cli/blob/master/README.md).
